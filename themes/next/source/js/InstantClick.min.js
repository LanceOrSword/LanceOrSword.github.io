 InstantClick 3.1.0  (C) 2014 Alexandre Dieulot  httpinstantclick.iolicense 
var InstantClick=function(d,e){function w(a){var b=a.indexOf(#);return 0baa.substr(0,b)}function z(a){for(;a&&A!=a.nodeName;)a=a.parentNode;return a}function A(a){var b=e.protocol++e.host;if(!(b=a.targeta.hasAttribute(download)0!=a.href.indexOf(b+)-1a.href.indexOf(#)&&w(a.href)==k)){if(J){a{do{if(!a.hasAttribute)break;if(a.hasAttribute(data-no-instant))break;if(a.hasAttribute(data-instant)){a=!0;break a}}while(a=a.parentNode);a=!1}a=!a}else a{do{if(!a.hasAttribute)break;
if(a.hasAttribute(data-instant))break;if(a.hasAttribute(data-no-instant)){a=!0;break a}}while(a=a.parentNode);a=!1}b=a}return b!1!0}function t(a,b,c,g){for(var d=!1,e=0;eB[a].length;e++)if(receive==a){var f=B[a][e](b,c,g);f&&(bodyin f&&(c=f.body),titlein f&&(g=f.title),d=f)}else B[a][e](b,c,g);return d}function K(a,b,c,g){d.documentElement.replaceChild(b,d.body);if(c){history.pushState(null,null,c);b=c.indexOf(#);b=-1b&&d.getElementById(c.substr(b+1));g=0;if(b)for(;b.offsetParent;)g+=
b.offsetTop,b=b.offsetParent;scrollTo(0,g);k=w(c)}else scrollTo(0,g);d.title=S&&d.title==aa+String.fromCharCode(160)a;L();C.done();t(change,!1);a=d.createEvent(HTMLEvents);a.initEvent(instantclicknewpage,!0,!0);dispatchEvent(a)}function M(a){G+new Date-500(a=z(a.target))&&A(a)&&x(a.href)}function N(a){G+new Date-500(a=z(a.target))&&A(a)&&(a.addEventListener(mouseout,T),H(O=a.href,l=setTimeout(x,H))x(a.href))}function U(a){G=+new Date;(a=z(a.target))&&A(a)&&(Da.removeEventListener(mousedown,
M)a.removeEventListener(mouseover,N),x(a.href))}function V(a){var b=z(a.target);!b!A(b)1a.whicha.metaKeya.ctrlKey(a.preventDefault(),P(b.href))}function T(){l(clearTimeout(l),l=!1)v&&!m&&(p.abort(),m=v=!1)}function W(){if(!(4p.readyState)&&0!=p.status){q.ready=+new Date-q.start;if(p.getResponseHeader(Content-Type).match((xhtxht)ml)){var a=d.implementation.createHTMLDocument();a.documentElement.innerHTML=p.responseText.replace(noscript[sS]+noscriptgi,);y=a.title;
u=a.body;var b=t(receive,r,u,y);b&&(bodyin b&&(u=b.body),titlein b&&(y=b.title));b=w(r);h[b]={bodyu,titley,scrollYb in hh[b].scrollY0};for(var a=a.head.children,b=0,c,g=a.length-1;0=g;g--)if(c=a[g],c.hasAttribute(data-instant-track)){c=c.getAttribute(href)c.getAttribute(src)c.innerHTML;for(var e=E.length-1;0=e;e--)E[e]==c&&b++}b!=E.length&&(F=!0)}else F=!0;m&&(m=!1,P(r))}}function L(a){d.body.addEventListener(touchstart,U,!0);Dd.body.addEventListener(mousedown,M,!0)d.body.addEventListener(mouseover,
N,!0);d.body.addEventListener(click,V,!0);if(!a){a=d.body.getElementsByTagName(script);var b,c,g,e;i=0;for(j=a.length;ij;i++)b=a[i],b.hasAttribute(data-no-instant)(c=d.createElement(script),b.src&&(c.src=b.src),b.innerHTML&&(c.innerHTML=b.innerHTML),g=b.parentNode,e=b.nextSibling,g.removeChild(b),g.insertBefore(c,e))}}function x(a){!D&&displayin q&&100+new Date-(q.start+q.display)(l&&(clearTimeout(l),l=!1),a(a=O),v&&(a==rm))(v=!0,m=!1,r=a,F=u=!1,q={start+new Date},t(fetch),
p.open(GET,a),p.send())}function P(a){displayin q(q.display=+new Date-q.start);l!vl&&r&&r!=ae.href=a(x(a),C.start(0,!0),t(wait),m=!0)me.href=aFe.href=ru(h[k].scrollY=pageYOffset,m=v=!1,K(y,u,r))(C.start(0,!0),t(wait),m=!0)}var I=navigator.userAgent,S=-1I.indexOf( CriOS),Q=createTouchin d,k,O,l,G,h={},p,r=!1,y=!1,F=!1,u=!1,q={},v=!1,m=!1,E=[],J,D,H,B={fetch[],receive[],wait[],change[]},C=function(){function a(a,e){n=a;d.getElementById(f.id)&&d.body.removeChild(f);f.style.opacity=
1;d.getElementById(f.id)&&d.body.removeChild(f);g();e&&setTimeout(b,0);clearTimeout(l);l=setTimeout(c,500)}function b(){n=10;g()}function c(){n+=1+2Math.random();98=nn=98l=setTimeout(c,500);g()}function g(){h.style[k]=translate(+n+%);d.getElementById(f.id)d.body.appendChild(f)}function e(){d.getElementById(f.id)(clearTimeout(l),n=100,g(),f.style.opacity=0)(a(100==n0n),setTimeout(e,0))}function m(){f.style.left=pageXOffset+px;f.style.width=innerWidth+px;f.style.top=pageYOffset+
px;var a=orientationin window&&90==Math.abs(orientation);f.style[k]=scaleY(+innerWidthscreen[aheightwidth]2+)}var f,h,k,n,l;return{initfunction(){f=d.createElement(div);f.id=instantclick;h=d.createElement(div);h.id=instantclick-bar;h.className=instantclick-bar;f.appendChild(h);var a=[Webkit,Moz,O];k=transform;if(!(k in h.style))for(var b=0;3b;b++)a[b]+Transformin h.style&&(k=a[b]+Transform);var c=transition;if(!(c in h.style))for(b=0;3b;b++)a[b]+Transitionin
h.style&&(c=-+a[b].toLowerCase()+-+c);a=d.createElement(style);a.innerHTML=#instantclick{position+(Qabsolutefixed)+;top0;left0;width100%;pointer-eventsnone;z-index2147483647;+c+opacity .25s .1s}.instantclick-bar{background#29d;width100%;margin-left-100%;height2px;+c+all .25s};d.head.appendChild(a);Q&&(m(),addEventListener(resize,m),addEventListener(scroll,m))},starta,donee}}(),R=pushStatein history&&(!I.match(Android)I.match(Chrome))&&file!=e.protocol;
return{supportedR,initfunction(){if(!k)if(R){for(var a=arguments.length-1;0=a;a--){var b=arguments[a];!0===bJ=!0mousedown==bD=!0number==typeof b&&(H=b)}k=w(e.href);h[k]={bodyd.body,titled.title,scrollYpageYOffset};for(var b=d.head.children,c,a=b.length-1;0=a;a--)c=b[a],c.hasAttribute(data-instant-track)&&(c=c.getAttribute(href)c.getAttribute(src)c.innerHTML,E.push(c));p=new XMLHttpRequest;p.addEventListener(readystatechange,W);L(!0);C.init();t(change,!0);addEventListener(popstate,
function(){var a=w(e.href);a!=k&&(a in h(h[k].scrollY=pageYOffset,k=a,K(h[a].title,h[a].body,!1,h[a].scrollY))e.href=e.href)})}else t(change,!0)},onfunction(a,b){B[a].push(b)}}}(document,location);